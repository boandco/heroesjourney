{% assign section = site.data.homepage.page_sections[include.index] %}
<div id="services" class="section" data-scroll-section>
  <div class="image__right animate__fadeIn" id="services-img" data-scroll data-scroll-call="animate-in+services-img">
    <video id="services_video"autoplay loop muted playsinline nocontrols>
      <source id="services_video_source">
    </video>
    <canvas id="services-gradient-canvas" class="gradient background"></canvas>
    <script>
      var services_gradient = new Gradient()
      services_gradient.initGradient('#services-gradient-canvas');
      let services_video_source = document.getElementById('services_video_source');
      if (supportsHEVCAlpha()) {
        services_video_source.src = '/assets/images/j10x_logo_loop.mov';
        services_video_source.setAttribute('type', 'video/quicktime; codecs=hvc1');
      } else {
        services_video_source.src = '/assets/images/j10x_logo_loop.webm';
        services_video_source.setAttribute('type', 'video/webm');
      }
    </script>
  </div>
  <ul class="accordion static">
    {% for service in section.services %}
      <li class="accordion__item" id="{{ service.title | slugify }}">
        <div class="title" data-for="{{ service.title | slugify }}">
          <span class="letter-animate" id="{{ service.title | slugify }}-title" data-scroll data-scroll-call="text-animate+{{ service.title | slugify }}-title">{{ service.title }}</span>
        </div>
        <div class="panel">
          <p class="animate__fadeIn" id="{{ service.title | slugify }}-description" data-scroll data-scroll-call="animate-in+{{ service.title | slugify }}-description">{{ service.description }}</p>
        </div>
      </li>
    {% endfor %}
  </ul>
</div>